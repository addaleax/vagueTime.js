/**
 * This module contains functionality that allows a precise timestamp
 * to be converted to a vague time, e.g. 'an hour ago'.
 *//*globals exports */(function(){"use strict";function t(t,r){var u=n(t,r);return u.difference>=e.year?i(u.difference):u.difference>=e.month?s(u.difference):u.difference>=e.week?o(u.difference):u.difference>=e.day?a(u.difference):u.difference>=e.hour?f(u.difference):u.difference>=e.minute?l(u.difference):"just now"}function n(e,t){var n={then:r(e+"000"),now:t?r(t+"000"):r(Date.now())};return n.difference=n.now.getTime()-n.then.getTime(),n}function r(e){var t=new Date;return t.setTime(e),t}function i(t){return c(t,e.year,"year")}function s(t){return c(t,e.month,"month")}function o(t){return t%e.week===0?u(t):h(t,e.week,"week",e.day,"day")}function u(t){return c(t,e.week,"week")}function a(t){return c(t,e.day,"day")}function f(t){return c(t,e.hour,"hour")}function l(t){return c(t,e.minute,"minute")}function c(e,t,n){var r=Math.floor(e/t);return r+" "+p(r,n)+" ago"}function h(e,t,n,r,i){var s=Math.floor(e/t),o=Math.floor(e%t/r);return s+" "+p(s,n)+" and "+o+" "+p(o,i)+" ago"}function p(e,t){return t+(e>1?"s":"")}var e={year:315576e5,month:26298e5,week:6048e5,day:864e5,hour:36e5,minute:6e4};exports.getVagueTime=t})();